{"openapi":"3.0.0","paths":{"/":{"get":{"operationId":"AppController_getHello","parameters":[],"responses":{"200":{"description":""}},"tags":["App"]}},"/health":{"get":{"operationId":"AppController_getHealth","parameters":[],"responses":{"200":{"description":""}},"tags":["App"]}},"/users/me":{"get":{"operationId":"UserController_getProfile","parameters":[],"responses":{"200":{"description":"Return current user profile.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserDto"}}}}},"security":[{"bearer":[]}],"summary":"Get current user profile","tags":["users"]},"patch":{"operationId":"UserController_updateProfile","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateUserDto"}}}},"responses":{"200":{"description":"The user profile has been successfully updated.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserDto"}}}}},"security":[{"bearer":[]}],"summary":"Update current user profile","tags":["users"]},"delete":{"operationId":"UserController_deleteProfile","parameters":[],"responses":{"200":{"description":"The user account has been successfully deleted."}},"security":[{"bearer":[]}],"summary":"Delete current user account","tags":["users"]}},"/users/me/password":{"patch":{"operationId":"UserController_changePassword","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChangePasswordDto"}}}},"responses":{"200":{"description":"The user password has been successfully changed.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserDto"}}}}},"security":[{"bearer":[]}],"summary":"Change user password","tags":["users"]}},"/users":{"get":{"operationId":"UserController_findAll","parameters":[],"responses":{"200":{"description":"Return all users.","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/UserDto"}}}}},"403":{"description":"Forbidden."}},"security":[{"bearer":[]}],"summary":"Get all users (Admin only)","tags":["users"]}},"/users/{id}":{"get":{"operationId":"UserController_findOne","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"Return user by id.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserDto"}}}},"403":{"description":"Forbidden."}},"security":[{"bearer":[]}],"summary":"Get user by id (Admin only)","tags":["users"]},"patch":{"operationId":"UserController_update","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateUserDto"}}}},"responses":{"200":{"description":"The user has been successfully updated.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserDto"}}}},"403":{"description":"Forbidden."}},"security":[{"bearer":[]}],"summary":"Update user by id (Admin only)","tags":["users"]},"delete":{"operationId":"UserController_remove","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"The user has been successfully deleted."},"403":{"description":"Forbidden."}},"security":[{"bearer":[]}],"summary":"Delete user by id (Admin only)","tags":["users"]}},"/users/admin":{"post":{"operationId":"UserController_createAdmin","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateAdminUserDto"}}}},"responses":{"201":{"description":"The admin user has been successfully created.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserDto"}}}},"403":{"description":"Forbidden."}},"security":[{"bearer":[]}],"summary":"Create a new admin user (Admin only)","tags":["users"]}},"/products":{"post":{"description":"Admin only","operationId":"ProductController_create","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateProductDto"}}}},"responses":{"201":{"description":"Product created successfully."},"401":{"description":"Unauthorized."},"403":{"description":"Forbidden."}},"security":[{"bearer":[]}],"summary":"Create a new product","tags":["products"]},"get":{"operationId":"ProductController_findAll","parameters":[{"name":"categoryId","required":false,"in":"query","description":"Filter products by category ID","schema":{"type":"string"}}],"responses":{"200":{"description":"List of products."}},"summary":"Get all products, optionally filtered by category","tags":["products"]}},"/products/{id}":{"get":{"operationId":"ProductController_findOne","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"Product details."},"404":{"description":"Product not found."}},"summary":"Get a single product by ID","tags":["products"]},"patch":{"description":"Admin only","operationId":"ProductController_update","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateProductDto"}}}},"responses":{"200":{"description":"Product updated successfully."},"404":{"description":"Product not found."}},"security":[{"bearer":[]}],"summary":"Update a product","tags":["products"]},"delete":{"description":"Admin only","operationId":"ProductController_remove","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"Product deleted successfully."},"404":{"description":"Product not found."}},"security":[{"bearer":[]}],"summary":"Delete a product","tags":["products"]}},"/orders":{"post":{"operationId":"OrderController_create","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateOrderDto"}}}},"responses":{"201":{"description":""}},"tags":["Order"]},"get":{"operationId":"OrderController_findAll","parameters":[],"responses":{"200":{"description":""}},"tags":["Order"]}},"/orders/admin":{"get":{"operationId":"OrderController_findAllForAdmin","parameters":[],"responses":{"200":{"description":""}},"tags":["Order"]}},"/orders/{id}":{"get":{"operationId":"OrderController_findOne","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["Order"]},"patch":{"operationId":"OrderController_update","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateOrderDto"}}}},"responses":{"200":{"description":""}},"tags":["Order"]},"delete":{"operationId":"OrderController_remove","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["Order"]}},"/auth/register":{"post":{"operationId":"AuthController_register","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateUserDto"}}}},"responses":{"201":{"description":"User registered successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginResponseDto"}}}}},"summary":"Register a new user (Public)","tags":["auth"]}},"/auth/login":{"post":{"operationId":"AuthController_login","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginUserDto"}}}},"responses":{"200":{"description":"User logged in successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginResponseDto"}}}},"401":{"description":"Invalid credentials"}},"security":[{"cookie":[]}],"summary":"Login a user","tags":["auth"]}},"/auth/refresh":{"post":{"operationId":"AuthController_refresh","parameters":[],"responses":{"201":{"description":"Token refreshed successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginResponseDto"}}}}},"security":[{"cookie":[]},{"bearer":[]}],"summary":"Refresh access token","tags":["auth"]}},"/auth/logout":{"post":{"operationId":"AuthController_logout","parameters":[],"responses":{"200":{"description":"User logged out successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageResponseDto"}}}}},"security":[{"cookie":[]},{"bearer":[]}],"summary":"Logout a user from current session","tags":["auth"]}},"/auth/logout/all":{"delete":{"operationId":"AuthController_logoutAllSessions","parameters":[],"responses":{"200":{"description":"User logged out from all sessions successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageResponseDto"}}}}},"security":[{"bearer":[]}],"summary":"Logout a user from all sessions","tags":["auth"]}},"/auth/forgot-password":{"post":{"operationId":"AuthController_forgotPassword","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ForgotPasswordDto"}}}},"responses":{"200":{"description":"If a user with that email exists, a password reset link will be sent."}},"summary":"Initiate password reset process","tags":["auth"]}},"/auth/reset-password":{"post":{"operationId":"AuthController_resetPassword","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResetPasswordDto"}}}},"responses":{"204":{"description":"Password has been reset successfully."}},"summary":"Reset a user password with a valid token","tags":["auth"]}},"/cart":{"get":{"operationId":"CartController_getCart","parameters":[],"responses":{"200":{"description":"Retrieve user cart","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CartDto"}}}}},"security":[{"bearer":[]}],"tags":["Cart"]},"delete":{"operationId":"CartController_clearCart","parameters":[],"responses":{"200":{"description":"Clear user cart","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CartDto"}}}}},"security":[{"bearer":[]}],"tags":["Cart"]}},"/cart/items":{"post":{"operationId":"CartController_addToCart","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AddToCartDto"}}}},"responses":{"200":{"description":"Add item to cart or update quantity","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CartDto"}}}}},"security":[{"bearer":[]}],"tags":["Cart"]}},"/cart/items/{productId}":{"put":{"operationId":"CartController_updateCartItem","parameters":[{"name":"productId","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateCartItemDto"}}}},"responses":{"200":{"description":"Update cart item quantity","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CartDto"}}}},"404":{"description":"Product not found in cart"}},"security":[{"bearer":[]}],"tags":["Cart"]},"delete":{"operationId":"CartController_removeCartItem","parameters":[{"name":"productId","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"Remove item from cart","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CartDto"}}}},"404":{"description":"Product not found in cart"}},"security":[{"bearer":[]}],"tags":["Cart"]}},"/category":{"post":{"description":"Admin only","operationId":"CategoryController_create","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateCategoryDto"}}}},"responses":{"201":{"description":"The category has been successfully created."},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden."}},"security":[{"bearer":[]}],"summary":"Create a new category","tags":["category"]},"get":{"operationId":"CategoryController_findAll","parameters":[],"responses":{"200":{"description":"Returns a list of all categories."}},"summary":"Get all categories","tags":["category"]}},"/category/{id}":{"get":{"operationId":"CategoryController_findOne","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"Returns the category."},"404":{"description":"Category not found."}},"summary":"Get a category by ID","tags":["category"]},"patch":{"description":"Admin only","operationId":"CategoryController_update","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateCategoryDto"}}}},"responses":{"200":{"description":"The category has been successfully updated."},"404":{"description":"Category not found."}},"security":[{"bearer":[]}],"summary":"Update a category by ID","tags":["category"]},"delete":{"description":"Admin only","operationId":"CategoryController_remove","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"The category has been successfully deleted."},"404":{"description":"Category not found."}},"security":[{"bearer":[]}],"summary":"Delete a category by ID","tags":["category"]}}},"info":{"title":"API Documentation","description":"The API description","version":"1.0","contact":{}},"tags":[],"servers":[],"components":{"securitySchemes":{"cookie":{"type":"apiKey","in":"cookie","name":"refreshToken"},"bearer":{"scheme":"bearer","bearerFormat":"JWT","type":"http"}},"schemas":{"UserDto":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"email":{"type":"string"},"name":{"type":"string"}},"required":["id","email","name"]},"UpdateUserDto":{"type":"object","properties":{"email":{"type":"string","example":"test@example.com","description":"User email"},"name":{"type":"string","example":"John Doe","description":"User name"},"password":{"type":"string","example":"password","description":"User password"}}},"ChangePasswordDto":{"type":"object","properties":{"currentPassword":{"type":"string"},"newPassword":{"type":"string"},"newPasswordConfirmation":{"type":"string"}},"required":["currentPassword","newPassword","newPasswordConfirmation"]},"CreateAdminUserDto":{"type":"object","properties":{"email":{"type":"string","example":"admin@example.com","description":"Admin user email"},"name":{"type":"string","example":"Admin User","description":"Admin user name"},"password":{"type":"string","example":"password","description":"Admin user password"}},"required":["email","name","password"]},"CreateProductDto":{"type":"object","properties":{"name":{"type":"string","description":"Product name","example":"Cool T-Shirt"},"description":{"type":"string","description":"Detailed product description","example":"A very cool t-shirt made from 100% cotton."},"price":{"type":"number","description":"Price of the product","example":29.99},"imageUrl":{"type":"string","description":"URL of the product image","example":"https://example.com/image.png"},"stock":{"type":"number","description":"Available stock quantity","example":100},"categoryId":{"type":"string","description":"ID of the category this product belongs to","example":"a1b2c3d4-e5f6-g7h8-i9j0-k1l2m3n4o5p6"}},"required":["name","description","price","stock","categoryId"]},"UpdateProductDto":{"type":"object","properties":{"name":{"type":"string","description":"Product name","example":"Cool T-Shirt"},"description":{"type":"string","description":"Detailed product description","example":"A very cool t-shirt made from 100% cotton."},"price":{"type":"number","description":"Price of the product","example":29.99},"imageUrl":{"type":"string","description":"URL of the product image","example":"https://example.com/image.png"},"stock":{"type":"number","description":"Available stock quantity","example":100},"categoryId":{"type":"string","description":"ID of the category this product belongs to","example":"a1b2c3d4-e5f6-g7h8-i9j0-k1l2m3n4o5p6"}}},"ProductInOrderDto":{"type":"object","properties":{"productId":{"type":"string","example":"clq7z3j0w0000z7c9h4z0q9c9"},"quantity":{"type":"number","example":1}},"required":["productId","quantity"]},"CreateOrderDto":{"type":"object","properties":{"products":{"type":"array","items":{"$ref":"#/components/schemas/ProductInOrderDto"}}},"required":["products"]},"UpdateOrderDto":{"type":"object","properties":{"products":{"type":"array","items":{"$ref":"#/components/schemas/ProductInOrderDto"}},"status":{"type":"string","enum":["PENDING","SHIPPED","COMPLETED","CANCELED"]}}},"CreateUserDto":{"type":"object","properties":{"email":{"type":"string","example":"test@example.com","description":"User email"},"name":{"type":"string","example":"John Doe","description":"User name"},"password":{"type":"string","example":"password","description":"User password"}},"required":["email","name","password"]},"UserResponseDto":{"type":"object","properties":{"id":{"type":"string","description":"Уникальный идентификатор пользователя","example":"clx... "},"email":{"type":"string","description":"Email пользователя","example":"test@example.com"},"name":{"type":"string","description":"Имя пользователя","example":"John Doe"},"role":{"type":"string","description":"Роль пользователя","enum":["USER","ADMIN"],"example":"USER"}},"required":["id","email","name","role"]},"LoginResponseDto":{"type":"object","properties":{"accessToken":{"type":"string","description":"JWT Access Token","example":"eyJhbGci... "},"user":{"$ref":"#/components/schemas/UserResponseDto"}},"required":["accessToken","user"]},"LoginUserDto":{"type":"object","properties":{"email":{"type":"string","example":"test@example.com","description":"User email"},"password":{"type":"string","example":"password","description":"User password"}},"required":["email","password"]},"MessageResponseDto":{"type":"object","properties":{"message":{"type":"string","example":"Operation successful"}},"required":["message"]},"ForgotPasswordDto":{"type":"object","properties":{"email":{"type":"string"}},"required":["email"]},"ResetPasswordDto":{"type":"object","properties":{"token":{"type":"string"},"newPassword":{"type":"string"},"newPasswordConfirmation":{"type":"string"}},"required":["token","newPassword","newPasswordConfirmation"]},"ProductDto":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"description":{"type":"string"},"price":{"type":"number"},"imageUrl":{"type":"string"},"quantity":{"type":"number"}},"required":["id","name","description","price","imageUrl","quantity"]},"CartItemDto":{"type":"object","properties":{"productId":{"type":"string"},"quantity":{"type":"number"},"name":{"type":"string"},"price":{"type":"number"},"product":{"$ref":"#/components/schemas/ProductDto"}},"required":["productId","quantity","name","price","product"]},"CartDto":{"type":"object","properties":{"id":{"type":"string"},"items":{"type":"array","items":{"$ref":"#/components/schemas/CartItemDto"}},"total":{"type":"number"}},"required":["id","items","total"]},"AddToCartDto":{"type":"object","properties":{"productId":{"type":"string","description":"The ID of the product to add","format":"uuid"},"quantity":{"type":"number","description":"The quantity of the product to add","example":1}},"required":["productId","quantity"]},"UpdateCartItemDto":{"type":"object","properties":{"quantity":{"type":"number","description":"The new quantity of the product","example":2}},"required":["quantity"]},"CreateCategoryDto":{"type":"object","properties":{"name":{"type":"string","description":"The name of the category","example":"T-Shirts","minLength":3}},"required":["name"]},"UpdateCategoryDto":{"type":"object","properties":{"name":{"type":"string","description":"The name of the category","example":"T-Shirts","minLength":3}}}}}}